{% extends 'base.html.twig' %}

{% block title %}Profile{% endblock %}
{% block stylesheets %}
    <link href="http://vjs.zencdn.net/4.12/video-js.css" rel="stylesheet">
    <script src="http://vjs.zencdn.net/4.12/video.js"></script>
    <style type="text/css">
        .vjs-default-skin { color: #e1d8d8; }
        .vjs-default-skin .vjs-play-progress,
        .vjs-default-skin .vjs-volume-level { background-color: #2c9237 }
        .vjs-default-skin .vjs-control-bar { font-size: 139% }
    </style>
{% endblock %}
{% block body %}

    <div class="container">
        <div class="row">
            <div class="col-sm-10 col-sm-offset-1">
                <div class="col-sm-12 w3-center">
                    <h2>{{ user.username }}</h2>
                    {% set  filter= app.session.get('user') %}
                    {% if filter %}
                        {% set profile_image_path = filter['profile_image_path'] %}
                        <a href="{{ url('profile', {'id':app.user.id}) }}">
                            <img src="{{ asset(profile_image_path) }}" class="w3-circle w3-margin-right"
                                 style="width:100px;border-radius:0;margin-bottom: 30px;">
                        </a>
                    {% endif %}
                    <p><a class="btn btn-small btn-warning" href="{{ path('update_profile',{'id':app.user.id}) }}">Edit</a>
                        <a class="btn btn-small btn-success" href="{{ path('update_image',{'id':app.user.id}) }}">Update image</a></p>
                        <a class="btn btn-small btn-info" href="{{ path('content',{'id':app.user.id}) }}">Cloudinary content</a></p>
                </div>
                <div class="col-sm-12">
                    <table class="w3-table-all w3-hoverable">
                        <tbody>
                        <tr>
                            <td>Email:</td>
                            <td>{{ user.email }}</td>
                        </tr>
                        <tr>
                            <td>Country:</td>
                            <td>{{ (user.profile and user.profile.country)?user.profile.country:"" }}</td>
                        </tr>
                        <tr>
                            <td>City:</td>
                            <td>{{ (user.profile and user.profile.city)?user.profile.city:"" }}</td>
                        </tr>
                        <tr>
                            <td>Phone:</td>
                            <td>{{ (user.profile and user.profile.phone)?user.profile.phone:"" }}</td>
                        </tr>
                        <tr>
                            <td>Status:</td>
                            <td>{{ (user.profile and user.profile.status)?user.profile.status:"" }}</td>
                        </tr>
                        <tr>
                            <td>Created at:</td>
                            <td>{{ (user.profile and user.profile.createDate)?user.profile.createDate| date('Y-m-d H:i:s'):"" }}</td>
                        </tr>
                        <tr>
                            <td>Updated at:</td>
                            <td>{{ (user.profile and user.profile.updateAt)?user.profile.updateAt| date('Y-m-d H:i:s'):"" }}</td>
                        </tr>

                        </tbody>
                    </table>
                    <video id="MY_VIDEO_1" class="video-js vjs-default-skin" controls
                           preload="auto" width="640" height="264"
                           data-setup="{}">
                        <source src="{{ videoTest.url }}" type='video/mp4'>
                        <p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p>
                    </video>
                    <img src="{{ url }}" alt="">
                    {#<img src="{{ asset(image_url) }}" alt="">#}
                    {{ video|raw }}


                    {#<video width="400" controls>#}
                        {#<source src="http://res.cloudinary.com/maksim1990/video/upload/v1536649342/samples/elephants.mp4" type="video/mp4">#}
                        {#Your browser does not support HTML5 video.#}
                    {#</video>#}
                </div>

            </div>
        </div>
    </div>
{% endblock %}
